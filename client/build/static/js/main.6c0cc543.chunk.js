(this.webpackJsonpanimaltherapy=this.webpackJsonpanimaltherapy||[]).push([[0],{13:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(6),o=a.n(c),l=(a(13),a(14),a(15),a(4)),r=a(2),d=a(7),s=a.n(d),u=["image","hosted:video","rich:video"];var m=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),d=Object(r.a)(o,2),m=d[0],p=d[1],h=Object(n.useState)(0),y=Object(r.a)(h,2),f=y[0],g=y[1],b=Object(n.useState)(!1),v=Object(r.a)(b,2),w=v[0],j=v[1],E=function(){w||(j(!0),fetch("https://www.reddit.com/r/aww/top.json?limit=20&t=hour&after=".concat(m,"&count=").concat(f)).then((function(e){return e.json()})).then((function(e){p(e.data.after),g(f+e.data.dist),c([].concat(Object(l.a)(a),Object(l.a)(e.data.children.filter((function(e){return u.includes(e.data.post_hint)})).map((function(e){var t,a;switch(e.data.post_hint){case"image":t=e.data.url,a="image";break;case"rich:video":e.data.media.oembed&&(t=e.data.media.oembed.thumbnail_url,a="image");break;case"hosted:video":t=e.data.media.reddit_video.fallback_url,a="video"}return{title:e.data.title,url:"https://reddit.com".concat(e.data.permalink),id:e.data.id,type:a,media:t}}))))),j(!1)})).catch((function(e){console.log(e),j(!1)})))};return Object(n.useEffect)((function(){E()}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{onYReachEnd:E,style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",flexWrap:"wrap",zIndex:1e3}},a.map((function(e){return i.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:20,marginRight:11,position:"relative"},key:e.id},i.a.createElement("div",{style:{position:"absolute",left:20,right:20,textAlign:"center",marginHorizontal:20},className:"title"},i.a.createElement("span",null,e.title.length>75?"":e.title)),"image"===e.type?i.a.createElement("img",{src:e.media,style:{width:"100%"},alt:e.id}):i.a.createElement("video",{src:e.media,style:{width:"100%"},id:e.id}),"image"!==e.type?i.a.createElement("div",{style:{position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},title:"Click to play/pause",onClick:function(){return function(e){var t=document.querySelector("#".concat(e));t.paused?(t.play.call(t),document.querySelector("#".concat(e,"_play")).classList.add("paused")):(t.pause.call(t),document.querySelector("#".concat(e,"_play")).classList.remove("paused"))}(e.id)}},document.getElementById(e.id)&&document.getElementById(e.id).paused?i.a.createElement("img",{src:"/play.png",alt:"play",className:"play",style:{height:128,width:128},id:"".concat(e.id,"_play")}):null):null)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(21)}},[[8,1,2]]]);
//# sourceMappingURL=main.6c0cc543.chunk.js.map