(this.webpackJsonpanimaltherapy=this.webpackJsonpanimaltherapy||[]).push([[0],{10:function(e,t,a){e.exports=a(39)},15:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(7),c=a.n(r),o=(a(15),a(16),a(17),a(5)),l=a(1),d=a(8),s=a.n(d),u=a(9),m=a.n(u),h=["image","hosted:video","rich:video"];var p=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!0),d=Object(l.a)(c,2),u=d[0],p=d[1],f=Object(n.useState)(""),y=Object(l.a)(f,2),g=y[0],b=y[1],v=Object(n.useState)(0),w=Object(l.a)(v,2),E=w[0],j=w[1],x=Object(n.useState)(!1),k=Object(l.a)(x,2),O=k[0],S=k[1],_=function(){O||(S(!0),fetch("https://www.reddit.com/r/aww/top.json?limit=20&t=hour&after=".concat(g,"&count=").concat(E)).then((function(e){return e.json()})).then((function(e){b(e.data.after),j(E+e.data.dist),r([].concat(Object(o.a)(a),Object(o.a)(e.data.children.filter((function(e){return h.includes(e.data.post_hint)})).map((function(e){var t,a;switch(e.data.post_hint){case"image":t=e.data.url,a="image";break;case"rich:video":e.data.media.oembed&&(t=e.data.media.oembed.thumbnail_url,a="image");break;case"hosted:video":t=e.data.media.reddit_video.fallback_url,a="video";break;default:return null}return{title:e.data.title,url:"https://reddit.com".concat(e.data.permalink),id:e.data.id,type:a,media:t}})).filter((function(e){return null!==e}))))),S(!1)})).catch((function(e){console.log(e),S(!1)})).finally((function(){return p(!1)})))};return Object(n.useEffect)((function(){_()}),[]),u?i.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(m.a,{name:"wave",noFadeIn:!0})):i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{onYReachEnd:_,style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",flexWrap:"wrap",zIndex:1e3}},a.map((function(e){return i.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:20,marginRight:11,position:"relative"},key:e.id},i.a.createElement("div",{style:{position:"absolute",left:20,right:20,textAlign:"center",marginHorizontal:20},className:"title"},i.a.createElement("span",null,e.title.length>75?"":e.title)),"image"===e.type?i.a.createElement("img",{src:e.media,style:{maxWidth:"90vw",maxHeight:"90vh",width:"auto"},alt:e.id}):i.a.createElement("video",{src:e.media,style:{maxWidth:"90vw",maxHeight:"90vh",width:"auto"},id:e.id}),"image"!==e.type?i.a.createElement("div",{style:{position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},title:"Click to play/pause",onClick:function(){return function(e){var t=document.querySelector("#".concat(e));t.paused?(t.play.call(t),document.querySelector("#".concat(e,"_play")).classList.add("paused")):(t.pause.call(t),document.querySelector("#".concat(e,"_play")).classList.remove("paused"))}(e.id)}},document.getElementById(e.id)&&document.getElementById(e.id).paused?i.a.createElement("img",{src:"/play.png",alt:"play",className:"play",style:{height:100,width:100},id:"".concat(e.id,"_play")}):null):null)})),i.a.createElement("a",{style:{position:"fixed",left:0,right:0,bottom:5,zIndex:100},className:"copyright",href:"https://github.com/ngregrichardson/AnimalTherapy",target:"_blank",rel:"noopener noreferrer"},"Made with ",i.a.createElement("span",{role:"img"},"\u2764"),"\ufe0f for Dani")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.3bd63876.chunk.js.map